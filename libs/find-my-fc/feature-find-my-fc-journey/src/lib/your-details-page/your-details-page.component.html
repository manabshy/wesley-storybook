<wes-header>
  <h1>{{ content.heading }}</h1>
  <p [innerHTML]="content.summary"></p>
</wes-header>

<wes-body>
  <form
    id="yourDetailsForm"
    class="wes-bg-solid-white"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    novalidate
  >
    <div class="form-wrapper border py-4 px-3 py-md-5 py-lg-6">
      <wes-form-field id="emailFormField">
        <wes-label labelTestId="lblPersonalEmail">
          {{ content.email.inputLabel }}
        </wes-label>
        <input
          wesInput
          type="email"
          formControlName="email"
          autocomplete="email"
          data-test="txtPersonalEmail"
        />
        <wes-error *ngIf="emailControl.invalid">
          <wes-form-field-error>
            {{ content.email.inputError }}
          </wes-form-field-error>
        </wes-error>
      </wes-form-field>

      <wes-form-field id="postcodeFormField">
        <wes-label labelTestId="lblPostcode">
          {{ content.homePostcode.inputLabel }}
        </wes-label>
        <input
          wesInput
          wesUppercase
          type="text"
          formControlName="postcode"
          autocomplete="postal-code"
          data-test="txtPostcode"
        />

        <wes-error *ngIf="postcodeControl.invalid">
          <wes-form-field-error>
            {{ content.homePostcode.inputError }}
          </wes-form-field-error>
        </wes-error>
      </wes-form-field>

      <div id="dobFormField" formGroupName="dateOfBirth">
        <label class="wes-form-field-label" data-test="lblDoB">
          {{ content.dateOfBirth.inputLabel }}
        </label>
        <div class="">
          <wes-form-field class="dob-box dob-box-1">
            <span id="dobDay" class="cdk-visually-hidden">
              Date of birth Day
            </span>
            <input
              wesInput
              type="text"
              formControlName="day"
              inputmode="numeric"
              pattern="[0-9]*"
              name="bday-day"
              placeholder="DD"
              wesNumbersOnly
              maxlength="2"
              autocomplete="bday-day"
              data-test="txtDoBDay"
              aria-labelledby="dobDay"
            />
          </wes-form-field>
          <wes-form-field class="dob-box dob-box-2 mx-2">
            <span id="dobMonth" class="cdk-visually-hidden">
              Date of birth Month
            </span>
            <input
              wesInput
              type="text"
              formControlName="month"
              inputmode="numeric"
              pattern="[0-9]*"
              name="bday-month"
              placeholder="MM"
              wesNumbersOnly
              maxlength="2"
              autocomplete="bday-month"
              data-test="txtDoBMonth"
              aria-labelledby="dobMonth"
            />
          </wes-form-field>
          <wes-form-field class="dob-box dob-box-3">
            <span id="dobYear" class="cdk-visually-hidden">
              Date of birth Year
            </span>

            <input
              wesInput
              type="text"
              formControlName="year"
              inputmode="numeric"
              pattern="[0-9]*"
              name="bday-year"
              placeholder="YYYY"
              wesNumbersOnly
              maxlength="4"
              autocomplete="bday-year"
              data-test="txtDoBYear"
              aria-labelledby="dobYear"
            />
          </wes-form-field>
        </div>
        <wes-error *ngIf="dateOfBirthControl.invalid">
          <wes-form-field-error>
            {{ content.dateOfBirth.inputError }}
          </wes-form-field-error>
        </wes-error>
        {{ emailControl.errors | json }}
        {{ postcodeControl.errors | json }}
        {{ dateOfBirthControl.errors | json }}
      </div>
    </div>

    <button
      class="wes-button wes-button-primary d-block w-100 w-md-auto mt-5 mt-md-6"
      type="submit"
      data-test="btnContinue"
      [disabled]="form.invalid"
    >
      {{ content.nextButtonLabel }}
    </button>
  </form>
</wes-body>
