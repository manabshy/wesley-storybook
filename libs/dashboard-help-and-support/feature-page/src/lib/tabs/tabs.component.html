<mat-tab-group
  animationDuration="0ms"
  [selectedIndex]="activeTabIndex$ | async"
  (selectedIndexChange)="onTabIndexChanged($event)"
  (selectedTabChange)="onTabChanged($event)"
>
  <mat-tab
    [label]="tab.title"
    *ngFor="let tab of config.data.sections"
    class="c-help-and-support-tabs__list"
  >
    <section class="c-help-support__section module">
      <ng-container *ngFor="let article of tab.articles">
        <article
          id="{{ transform(article.title) }}"
          class="c-help-support__article"
          *ngIf="tab.dataGtmId != 'glossary_cta'"
        >
          <h3 class="c-help-support__article-title pr-md-5">
            <a
              [routerLink]="[]"
              [queryParams]="{
                section: tab.href.substring(1),
                article: transform(article.title)
              }"
            >
              {{ article.title }}
            </a>
          </h3>
          <div
            class="c-help-support__article-content"
            [innerHTML]="article.content"
          ></div>
        </article>
        <div
          class="c-help-support__article c-help-support__article--glossary"
          *ngIf="tab.dataGtmId == 'glossary_cta'"
        >
          <h3 class="c-help-support__glossary-letter">A</h3>
          <div class="c-help-support__glossary-collection">
            <article
              [id]="transform(article.title)"
              class="c-help-support__glossary-entry"
            >
              <h3
                class="c-help-support__article-title c-help-support__article-title--glossary pr-md-5"
              >
                <a
                  [routerLink]="[]"
                  [queryParams]="{
                    section: tab.href.substring(1),
                    article: transform(article.title)
                  }"
                >
                  {{ article.title }}
                </a>
              </h3>
              <div
                class="c-help-support__article-content c-help-support__article-content--glossary"
                [innerHTML]="article.content"
              ></div>
            </article>
          </div>
        </div>
      </ng-container>
    </section>
  </mat-tab>
</mat-tab-group>
