<form [formGroup]="form">
  <wes-form-field id="flatNumberFormField">
    <wes-label labelTestId="lblFlatNumber">{{
      pageContent.addressDetails.flatNumber.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="flatNumber"
      data-test="txtFlatNumber"
    />
  </wes-form-field>

  <wes-form-field id="houseNumberFormField">
    <wes-label labelTestId="lblHouseNumber">{{
      pageContent.addressDetails.houseNumber.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="houseNumber"
      autocomplete="address-line1"
      data-test="txtHouseNumber"
    />
    <wes-error *ngIf="isFieldInvalid('houseNumber')">
      <wes-form-field-error *ngIf="controls.houseNumber.errors.required">
        {{ pageContent.addressDetails.houseNumber.inputError }}
      </wes-form-field-error>
    </wes-error>
  </wes-form-field>

  <wes-form-field id="houseNameFormField">
    <wes-label labelTestId="lblHouseName">{{
      pageContent.addressDetails.houseName.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="houseName"
      data-test="txtHouseName"
    />
    <wes-error *ngIf="isFieldInvalid('houseName')">
      <wes-form-field-error *ngIf="controls.houseName.errors.required">
        {{ pageContent.addressDetails.houseName.inputError }}
      </wes-form-field-error>
    </wes-error>
  </wes-form-field>

  <wes-form-field id="streetFormField">
    <wes-label labelTestId="lblStreet">{{
      pageContent.addressDetails.street.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="street"
      [errorStateMatcher]="errorStateMatcher"
      autocomplete="address-line2"
      data-test="txtStreet"
    />
    <wes-error *ngIf="isFieldInvalid('street')">
      <wes-form-field-error *ngIf="controls.street.errors.required">
        {{ pageContent.addressDetails.street.inputError }}
      </wes-form-field-error>
    </wes-error>
  </wes-form-field>

  <wes-form-field id="townFormField">
    <wes-label labelTestId="lblTown">{{
      pageContent.addressDetails.town.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="town"
      [errorStateMatcher]="errorStateMatcher"
      autocomplete="address-level2"
      data-test="txtTown"
    />
    <wes-error *ngIf="isFieldInvalid('town')">
      <wes-form-field-error *ngIf="controls.town.errors.required">
        {{ pageContent.addressDetails.town.inputError }}
      </wes-form-field-error>
    </wes-error>
  </wes-form-field>

  <wes-form-field id="regionFormField">
    <wes-label labelTestId="lblRegion">{{
      pageContent.addressDetails.region.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="region"
      data-test="txtRegion"
    />
  </wes-form-field>

  <wes-form-field id="countyFormField">
    <wes-label labelTestId="lblCounty">{{
      pageContent.addressDetails.county.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="county"
      data-test="txtCounty"
    />
  </wes-form-field>

  <wes-form-field id="manualPostcodeFormField">
    <wes-label labelTestId="lblPostcode">{{
      pageContent.addressDetails.postcode.inputLabel
    }}</wes-label>
    <input
      wesInput
      type="text"
      formControlName="postcode"
      [errorStateMatcher]="errorStateMatcher"
      autocomplete="postal-code"
      data-test="txtPostcode"
    />
    <wes-error *ngIf="isFieldInvalid('postcode')">
      <wes-form-field-error *ngIf="controls.postcode.errors.required">
        {{ pageContent.addressDetails.postcode.inputError }}
      </wes-form-field-error>
    </wes-error>
  </wes-form-field>
</form>
<!-- Valid {{ form.valid }} -->
